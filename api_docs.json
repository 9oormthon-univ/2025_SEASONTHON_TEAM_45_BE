{"openapi":"3.0.1","info":{"title":"CareFreePass API","description":"CareFreePass API Documentation","version":"0.0.1"},"servers":[{"url":"http://localhost:8080","description":"Local Server"}],"security":[{"BearerAuth":[]}],"tags":[{"name":"예약 관리 API","description":"환자 예약 생성, 수정, 조회, 삭제 기능 (환자/관리자 권한별 구분)"},{"name":"환자용 시간대 조회 API","description":"환자가 예약 가능한 시간대를 조회하는 기능"},{"name":"병원 시간 차단 관리 API","description":"병원 관리자용 시간 차단/해제 기능"},{"name":"Chat","description":"AI 챗봇 예약 상담 API"},{"name":"알림 API","description":"FCM 푸시 알림 전용 API"},{"name":"병원 진료과 관리 API","description":"병원 관리자용 진료과 관리 기능"},{"name":"인증 API","description":"환자/병원 회원가입·로그인, 토큰 재발급, SMS 인증"}],"paths":{"/api/v1/chat/sessions/{sessionId}/complete":{"put":{"tags":["Chat"],"summary":"채팅 세션 완료","description":"진행 중인 채팅 세션을 완료 처리합니다. 완료된 세션은 더 이상 메시지를 주고받을 수 없습니다.","operationId":"completeChatSession","parameters":[{"name":"sessionId","in":"path","description":"채팅 세션 ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"memberId","in":"query","description":"회원 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"채팅 세션 완료 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}},"400":{"description":"접근할 수 없는 채팅 세션","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}},"404":{"description":"존재하지 않는 채팅 세션","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}}}}},"/api/v1/appointments/{appointmentId}":{"put":{"tags":["예약 관리 API"],"summary":"예약 정보 수정 (환자도 가능)","description":"예약의 병원명, 진료과, 날짜, 시간 등을 수정합니다. 완료/취소된 예약은 수정할 수 없습니다.","operationId":"updateAppointment","parameters":[{"name":"appointmentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentUpdateRequest"}}},"required":true},"responses":{"200":{"description":"예약 수정 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}},"400":{"description":"수정 불가능한 상태","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}},"404":{"description":"예약을 찾을 수 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}}}},"delete":{"tags":["예약 관리 API"],"summary":"예약 삭제 (관리자 전용)","description":"예약을 완전히 삭제합니다. 삭제된 예약은 복구할 수 없습니다.","operationId":"deleteAppointment","parameters":[{"name":"appointmentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"예약 삭제 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}},"404":{"description":"예약을 찾을 수 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}}}}},"/api/v1/appointments/{appointmentId}/status/{status}":{"put":{"tags":["예약 관리 API"],"summary":"예약 상태 변경 (관리자 전용)","description":"예약의 상태를 변경합니다. (WAITING_BEFORE_ARRIVAL→BOOKED→ARRIVED→CALLED→COMPLETED 또는 CANCELLED)","operationId":"updateAppointmentStatus","parameters":[{"name":"appointmentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"status","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"상태 변경 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}},"400":{"description":"잘못된 상태값","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}},"404":{"description":"예약을 찾을 수 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}}}}},"/api/v1/appointments/checkin":{"put":{"tags":["예약 관리 API"],"summary":"환자 체크인 (환자도 가능)","description":"환자가 병원에 도착했을 때 체크인 처리합니다. 상태가 ARRIVED로 변경됩니다.","operationId":"checkinAppointment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentCheckinRequest"}}},"required":true},"responses":{"200":{"description":"체크인 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}},"400":{"description":"본인 예약이 아니거나 이미 체크인 완료","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}},"404":{"description":"예약을 찾을 수 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}}}}},"/api/v1/admin/time-slots/{exceptionId}":{"put":{"tags":["병원 시간 차단 관리 API"],"summary":"시간대 차단 수정","description":"기존 시간 차단 설정을 수정합니다.","operationId":"updateTimeSlot","parameters":[{"name":"exceptionId","in":"path","description":"수정할 차단 설정 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimeSlotBlockRequest"}}},"required":true},"responses":{"200":{"description":"시간 차단 수정 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"400":{"description":"잘못된 요청 데이터","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"401":{"description":"인증되지 않은 사용자","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"403":{"description":"관리자 권한 필요","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}}}},"delete":{"tags":["병원 시간 차단 관리 API"],"summary":"시간대 차단 해제","description":"기존에 차단된 시간대를 다시 예약 가능하도록 해제합니다.","operationId":"unblockTimeSlot","parameters":[{"name":"exceptionId","in":"path","description":"차단 해제할 예외 설정 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"시간 차단 해제 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"400":{"description":"존재하지 않는 차단 ID","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"401":{"description":"인증되지 않은 사용자","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"403":{"description":"관리자 권한 필요","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}}}}},"/api/v1/admin/hospitals/{hospitalId}/departments/{departmentId}":{"get":{"tags":["병원 진료과 관리 API"],"summary":"진료과 상세 조회","description":"특정 진료과의 상세 정보를 조회합니다.","operationId":"getDepartment","parameters":[{"name":"hospitalId","in":"path","description":"병원 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"departmentId","in":"path","description":"진료과 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"진료과 정보 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateHospitalDepartmentResponse"}}}},"401":{"description":"인증되지 않은 사용자","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateHospitalDepartmentResponse"}}}},"403":{"description":"관리자 권한 필요","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateHospitalDepartmentResponse"}}}},"404":{"description":"존재하지 않는 진료과","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateHospitalDepartmentResponse"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateHospitalDepartmentResponse"}}}}}},"put":{"tags":["병원 진료과 관리 API"],"summary":"진료과 정보 수정","description":"기존 진료과의 정보를 수정합니다.","operationId":"updateDepartment","parameters":[{"name":"hospitalId","in":"path","description":"병원 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"departmentId","in":"path","description":"진료과 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HospitalDepartmentCreateRequest"}}},"required":true},"responses":{"200":{"description":"진료과 수정 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"400":{"description":"중복된 진료과명 또는 잘못된 요청 데이터","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"401":{"description":"인증되지 않은 사용자","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"403":{"description":"관리자 권한 필요","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"404":{"description":"존재하지 않는 병원 또는 진료과","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}}}},"delete":{"tags":["병원 진료과 관리 API"],"summary":"진료과 삭제","description":"진료과를 삭제합니다. 예약이 있는 진료과는 삭제할 수 없습니다.","operationId":"deleteDepartment","parameters":[{"name":"hospitalId","in":"path","description":"병원 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"departmentId","in":"path","description":"진료과 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"진료과 삭제 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"400":{"description":"예약이 있어 삭제할 수 없는 진료과","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"401":{"description":"인증되지 않은 사용자","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"403":{"description":"관리자 권한 필요","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"404":{"description":"존재하지 않는 병원 또는 진료과","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}}}}},"/api/v1/test/echo":{"post":{"tags":["test-controller"],"operationId":"echo","requestBody":{"content":{"application/json":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}}}}},"/api/v1/notifications/token":{"post":{"tags":["알림 API"],"summary":"FCM 토큰 등록","description":"환자 앱에서 FCM 토큰을 서버에 등록합니다.","operationId":"registerDeviceToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeviceTokenRegisterRequest"}}},"required":true},"responses":{"200":{"description":"토큰 등록 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}},"400":{"description":"잘못된 요청","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}}}}},"/api/v1/notifications/call":{"post":{"tags":["알림 API"],"summary":"환자 호출","description":"웹 관리자가 도착한 환자를 호출합니다. 진료실 번호는 자동으로 '진료실'로 설정됩니다. (핵심 기능)","operationId":"callPatient","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatientCallRequest"}}},"required":true},"responses":{"200":{"description":"호출 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}},"400":{"description":"호출 불가능한 상태","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}},"500":{"description":"푸시 알림 전송 실패","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}}}}},"/api/v1/chat/start":{"post":{"tags":["Chat"],"summary":"AI 채팅 세션 시작","description":"사용자가 증상을 입력하여 AI와의 채팅 세션을 시작합니다. AI가 증상을 분석하고 적절한 진료과를 추천합니다.","operationId":"startChatSession","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatStartRequest"}}},"required":true},"responses":{"200":{"description":"채팅 세션 시작 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ChatSessionResponse"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}},"404":{"description":"존재하지 않는 회원","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}},"400":{"description":"잘못된 요청 데이터","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}}}}},"/api/v1/chat/message":{"post":{"tags":["Chat"],"summary":"채팅 메시지 전송","description":"진행 중인 채팅 세션에 메시지를 전송하고 AI 응답을 받습니다. AI는 사용자의 추가 증상 정보를 바탕으로 더 정확한 진단과 예약 안내를 제공합니다.","operationId":"sendMessage","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatMessageRequest"}}},"required":true},"responses":{"200":{"description":"메시지 전송 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ChatMessageResponse"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}},"400":{"description":"잘못된 요청 데이터 또는 비활성 세션","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}},"404":{"description":"존재하지 않는 채팅 세션","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}}}}},"/api/v1/auth/sms/verify":{"post":{"tags":["인증 API"],"summary":"SMS 인증코드 검증","description":"수신한 인증코드를 검증하고 임시 토큰을 발급합니다. 임시 토큰을 발급받은 회원만 회원가입이 가능합니다. 발급받은 임시 토큰을 헤더에 담아 회원가입 API를 호출하세요.","operationId":"verifySmsCode","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmsCodeRequest"}}},"required":true},"responses":{"200":{"description":"인증 성공, 임시 토큰 발급","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TemporaryTokenResponse"}}}},"400":{"description":"인증코드 불일치/만료","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTemporaryTokenResponse"}}}},"404":{"description":"인증코드 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTemporaryTokenResponse"}}}},"500":{"description":"서버 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTemporaryTokenResponse"}}}}}}},"/api/v1/auth/sms/send":{"post":{"tags":["인증 API"],"summary":"SMS 인증코드 전송","description":"입력한 휴대전화번호로 인증코드를 발송합니다.","operationId":"sendSmsVerification","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmsVerificationRequest"}}},"required":true},"responses":{"200":{"description":"문자 전송 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}},"400":{"description":"전화번호 유효성 실패 또는 레이트리밋","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}},"500":{"description":"외부 SMS 게이트웨이 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateVoid"}}}}}}},"/api/v1/auth/reissue":{"post":{"tags":["인증 API"],"summary":"JWT 토큰 재발급","description":"Refresh Token으로 Access/Refresh 토큰을 재발급합니다.","operationId":"reissueTokenPair","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"재발급 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenPairResponse"}}}},"400":{"description":"유효하지 않은 Refresh Token","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTokenPairResponse"}}}},"401":{"description":"만료된 Refresh Token","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTokenPairResponse"}}}},"500":{"description":"서버 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTokenPairResponse"}}}}}}},"/api/v1/auth/patient/sign-up":{"post":{"tags":["인증 API"],"summary":"환자 회원가입","description":"새로운 환자 계정을 생성하고 JWT 토큰을 발급합니다.","operationId":"patientSignUpWithLocal","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatientSignUpRequest"}}},"required":true},"responses":{"200":{"description":"회원가입 성공, 토큰 발급","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenPairResponse"}}}},"400":{"description":"중복 전화번호 또는 필수 정보 누락","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTokenPairResponse"}}}},"500":{"description":"서버 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTokenPairResponse"}}}}}}},"/api/v1/auth/patient/sign-in":{"post":{"tags":["인증 API"],"summary":"환자 로그인","description":"전화번호/비밀번호로 로그인하고 JWT 토큰을 발급합니다.","operationId":"patientSignInWithLocal","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatientSignInRequest"}}},"required":true},"responses":{"200":{"description":"로그인 성공, 토큰 발급","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenPairResponse"}}}},"400":{"description":"자격 증명 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTokenPairResponse"}}}},"404":{"description":"계정 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTokenPairResponse"}}}},"500":{"description":"서버 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTokenPairResponse"}}}}}}},"/api/v1/auth/hospital/sign-up":{"post":{"tags":["인증 API"],"summary":"병원 회원가입(관리자 + 병원 + 소속 생성)","description":"관리자·병원 정보를 등록하고 JWT 토큰을 발급합니다.","operationId":"hospitalSignUpWithLocal","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HospitalSignUpRequest"}}},"required":true},"responses":{"200":{"description":"회원가입 성공, 토큰 발급","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenPairResponse"}}}},"400":{"description":"중복/유효성 실패","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTokenPairResponse"}}}},"500":{"description":"서버 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTokenPairResponse"}}}}}}},"/api/v1/auth/hospital/sign-in":{"post":{"tags":["인증 API"],"summary":"병원 로그인(관리자)","description":"아이디/비밀번호로 로그인하고 JWT 토큰을 발급합니다.","operationId":"hospitalSignInWithLocal","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HospitalSignInRequest"}}},"required":true},"responses":{"200":{"description":"로그인 성공, 토큰 발급","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenPairResponse"}}}},"400":{"description":"자격 증명 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTokenPairResponse"}}}},"404":{"description":"계정 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTokenPairResponse"}}}},"500":{"description":"서버 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateTokenPairResponse"}}}}}}},"/api/v1/appointments":{"post":{"tags":["예약 관리 API"],"summary":"예약 생성 (환자도 가능)","description":"환자의 병원 예약을 생성합니다. 같은 날짜에 중복 예약은 불가능합니다.","operationId":"createAppointment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentCreateRequest"}}},"required":true},"responses":{"200":{"description":"예약 생성 성공, 예약 ID 반환","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}},"400":{"description":"중복 예약 또는 존재하지 않는 회원","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}}}}},"/api/v1/admin/time-slots/block":{"post":{"tags":["병원 시간 차단 관리 API"],"summary":"시간대 차단","description":"병원 관리자가 특정 날짜와 시간을 차단하여 예약을 받지 않도록 설정합니다.","operationId":"blockTimeSlot","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimeSlotBlockRequest"}}},"required":true},"responses":{"200":{"description":"시간 차단 성공, 차단 ID 반환","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}},"400":{"description":"잘못된 요청 데이터 또는 존재하지 않는 진료과","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}},"401":{"description":"인증되지 않은 사용자","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}},"403":{"description":"관리자 권한 필요","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}}}}},"/api/v1/admin/hospitals/{hospitalId}/departments":{"get":{"tags":["병원 진료과 관리 API"],"summary":"병원별 진료과 목록 조회","description":"특정 병원의 모든 진료과 목록을 조회합니다.","operationId":"getDepartmentsByHospital","parameters":[{"name":"hospitalId","in":"path","description":"병원 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"진료과 목록 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListHospitalDepartmentResponse"}}}},"401":{"description":"인증되지 않은 사용자","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListHospitalDepartmentResponse"}}}},"403":{"description":"관리자 권한 필요","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListHospitalDepartmentResponse"}}}},"404":{"description":"존재하지 않는 병원","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListHospitalDepartmentResponse"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListHospitalDepartmentResponse"}}}}}},"post":{"tags":["병원 진료과 관리 API"],"summary":"진료과 생성","description":"병원에 새로운 진료과를 생성합니다. 같은 병원에서 동일한 진료과명은 중복될 수 없습니다.","operationId":"createDepartment","parameters":[{"name":"hospitalId","in":"path","description":"병원 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HospitalDepartmentCreateRequest"}}},"required":true},"responses":{"200":{"description":"진료과 생성 성공, 진료과 ID 반환","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}},"400":{"description":"중복된 진료과명 또는 잘못된 요청 데이터","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}},"401":{"description":"인증되지 않은 사용자","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}},"403":{"description":"관리자 권한 필요","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}},"404":{"description":"존재하지 않는 병원","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateLong"}}}}}}},"/api/v1/test/health":{"get":{"tags":["test-controller"],"operationId":"healthCheck","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateString"}}}}}}},"/api/v1/patient/time-slots":{"get":{"tags":["환자용 시간대 조회 API"],"summary":"예약 가능한 시간대 조회","description":"특정 병원의 특정 진료과에서 예약 가능한 시간대 목록을 조회합니다.","operationId":"getAvailableTimeSlots","parameters":[{"name":"hospitalId","in":"query","description":"병원 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"departmentName","in":"query","description":"진료과명","required":true,"schema":{"type":"string"},"example":"내과"},{"name":"date","in":"query","description":"조회할 날짜 (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"},"example":"2024-12-31"}],"responses":{"200":{"description":"예약 가능 시간 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateAvailableTimeSlotsResponse"}}}},"400":{"description":"잘못된 요청 파라미터","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateAvailableTimeSlotsResponse"}}}},"404":{"description":"병원 또는 진료과를 찾을 수 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateAvailableTimeSlotsResponse"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateAvailableTimeSlotsResponse"}}}}}}},"/api/v1/patient/time-slots/check":{"get":{"tags":["환자용 시간대 조회 API"],"summary":"특정 시간의 예약 가능 여부 확인","description":"특정 병원의 특정 진료과에서 특정 시간대의 예약 가능 여부를 확인합니다.","operationId":"checkTimeSlotAvailable","parameters":[{"name":"hospitalId","in":"query","description":"병원 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"departmentName","in":"query","description":"진료과명","required":true,"schema":{"type":"string"},"example":"내과"},{"name":"date","in":"query","description":"조회할 날짜 (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"},"example":"2024-12-31"},{"name":"time","in":"query","description":"확인할 시간 (HH:mm)","required":true,"schema":{"type":"string"},"example":"14:30"}],"responses":{"200":{"description":"시간대 예약 가능 여부 확인 완료","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateBoolean"}}}},"400":{"description":"잘못된 요청 파라미터","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateBoolean"}}}},"404":{"description":"병원 또는 진료과를 찾을 수 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateBoolean"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateBoolean"}}}}}}},"/api/v1/notifications/history":{"get":{"tags":["알림 API"],"summary":"알림 이력 조회","description":"예약 ID별 또는 전체 알림 전송 이력을 조회합니다. 성공/실패 여부와 전송 시간을 확인할 수 있습니다.","operationId":"getNotificationHistory","parameters":[{"name":"appointmentId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"이력 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListNotificationHistoryResponse"}}}},"404":{"description":"예약을 찾을 수 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListNotificationHistoryResponse"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListNotificationHistoryResponse"}}}}}}},"/api/v1/notifications/history/appointment/{appointmentId}":{"get":{"tags":["알림 API"],"summary":"특정 예약의 알림 이력 조회","description":"특정 예약 ID의 모든 알림 전송 이력을 최신순으로 조회합니다.","operationId":"getNotificationHistoryByAppointment","parameters":[{"name":"appointmentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"이력 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListNotificationHistoryResponse"}}}},"404":{"description":"예약을 찾을 수 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListNotificationHistoryResponse"}}}}}}},"/api/v1/chat/sessions":{"get":{"tags":["Chat"],"summary":"사용자 채팅 세션 목록 조회","description":"특정 사용자의 모든 채팅 세션 목록을 조회합니다. 최신 세션부터 내림차순으로 정렬되며, 세션별 기본 정보만 포함됩니다.","operationId":"getUserChatSessions","parameters":[{"name":"memberId","in":"query","description":"회원 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}},"200":{"description":"채팅 세션 목록 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}}}}},"/api/v1/chat/sessions/{sessionId}":{"get":{"tags":["Chat"],"summary":"채팅 세션 상세 조회","description":"특정 채팅 세션의 상세 정보를 조회합니다. 모든 메시지 히스토리와 증상 분석 결과를 포함합니다.","operationId":"getChatSession","parameters":[{"name":"sessionId","in":"path","description":"채팅 세션 ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"memberId","in":"query","description":"회원 ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"400":{"description":"접근할 수 없는 채팅 세션","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}},"200":{"description":"채팅 세션 상세 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ChatSessionResponse"}}}},"404":{"description":"존재하지 않는 채팅 세션","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplate"}}}}}}},"/api/v1/appointments/today":{"get":{"tags":["예약 관리 API"],"summary":"오늘 전체 예약 조회 (관리자 전용)","description":"오늘 날짜의 모든 예약을 조회합니다. 상태와 관계없이 전체 목록을 반환합니다.","operationId":"getAllTodayAppointments","responses":{"200":{"description":"전체 예약 목록 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListAppointmentResponse"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListAppointmentResponse"}}}}}}},"/api/v1/appointments/today/waiting":{"get":{"tags":["예약 관리 API"],"summary":"오늘 대기 환자 조회 (관리자 전용)","description":"오늘 날짜의 대기 중인 환자 목록을 조회합니다. (BOOKED, ARRIVED 상태)","operationId":"getTodayWaitingPatients","responses":{"200":{"description":"대기 환자 목록 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListAppointmentResponse"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListAppointmentResponse"}}}}}}},"/api/v1/appointments/my":{"get":{"tags":["예약 관리 API"],"summary":"내 전체 예약 목록 조회 (환자 전용)","description":"환자가 본인의 모든 예약 내역을 조회합니다. (과거/현재/미래 예약 포함)","operationId":"getMyAppointments","parameters":[{"name":"memberId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"내 예약 목록 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListAppointmentResponse"}}}},"404":{"description":"존재하지 않는 회원","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListAppointmentResponse"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListAppointmentResponse"}}}}}}},"/api/v1/appointments/my/today":{"get":{"tags":["예약 관리 API"],"summary":"오늘 내 예약 조회 (환자 전용)","description":"환자가 오늘 예정된 본인의 예약만 조회합니다.","operationId":"getMyTodayAppointments","parameters":[{"name":"memberId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"오늘 내 예약 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListAppointmentResponse"}}}},"404":{"description":"존재하지 않는 회원","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListAppointmentResponse"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListAppointmentResponse"}}}}}}},"/api/v1/admin/time-slots/blocked":{"get":{"tags":["병원 시간 차단 관리 API"],"summary":"차단된 시간대 조회","description":"진료과별 차단된 시간대 목록을 조회합니다.","operationId":"getBlockedTimeSlots","parameters":[{"name":"departmentId","in":"query","description":"진료과 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"200":{"description":"차단된 시간대 목록 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListTimeSlotExceptionResponse"}}}},"400":{"description":"존재하지 않는 진료과","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListTimeSlotExceptionResponse"}}}},"401":{"description":"인증되지 않은 사용자","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListTimeSlotExceptionResponse"}}}},"403":{"description":"관리자 권한 필요","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListTimeSlotExceptionResponse"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListTimeSlotExceptionResponse"}}}}}}},"/api/v1/admin/time-slots/blocked/date":{"get":{"tags":["병원 시간 차단 관리 API"],"summary":"특정 날짜 차단 시간대 조회","description":"특정 날짜에 차단된 시간대 목록을 조회합니다.","operationId":"getBlockedTimeSlotsForDate","parameters":[{"name":"departmentId","in":"query","description":"진료과 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"date","in":"query","description":"조회할 날짜 (YYYY-MM-DD)","required":true,"schema":{"type":"string","format":"date"},"example":"2024-12-25"}],"responses":{"200":{"description":"해당 날짜 차단 시간대 목록 조회 성공","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListTimeSlotExceptionResponse"}}}},"400":{"description":"잘못된 날짜 형식 또는 존재하지 않는 진료과","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListTimeSlotExceptionResponse"}}}},"401":{"description":"인증되지 않은 사용자","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListTimeSlotExceptionResponse"}}}},"403":{"description":"관리자 권한 필요","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListTimeSlotExceptionResponse"}}}},"500":{"description":"서버 내부 오류","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTemplateListTimeSlotExceptionResponse"}}}}}}}},"components":{"schemas":{"ApiResponseTemplate":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"data":{"type":"object"}}},"AppointmentUpdateRequest":{"required":["appointmentDate","appointmentTime","departmentName","hospitalId"],"type":"object","properties":{"hospitalId":{"type":"integer","description":"병원 ID","format":"int64","example":1},"departmentName":{"type":"string","description":"진료과명","example":"내과"},"appointmentDate":{"type":"string","description":"예약 날짜","format":"date","example":"2024-12-31"},"appointmentTime":{"$ref":"#/components/schemas/LocalTime"}}},"LocalTime":{"type":"object","properties":{"hour":{"type":"integer","format":"int32"},"minute":{"type":"integer","format":"int32"},"second":{"type":"integer","format":"int32"},"nano":{"type":"integer","format":"int32"}},"description":"예약 시간","example":"14:30"},"ApiResponseTemplateString":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"data":{"type":"string"}}},"AppointmentCheckinRequest":{"required":["appointmentId","memberId"],"type":"object","properties":{"appointmentId":{"type":"integer","description":"예약 ID","format":"int64","example":1},"memberId":{"type":"integer","description":"회원 ID","format":"int64","example":1}}},"TimeSlotBlockRequest":{"required":["blockDate","blockTime","departmentId"],"type":"object","properties":{"departmentId":{"type":"integer","description":"진료과 ID","format":"int64","example":1},"blockDate":{"type":"string","description":"차단할 날짜","format":"date","example":"2025-09-04"},"blockTime":{"$ref":"#/components/schemas/LocalTime"}},"description":"시간 차단 요청 정보"},"ApiResponseTemplateVoid":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"data":{"type":"object"}}},"HospitalDepartmentCreateRequest":{"required":["name"],"type":"object","properties":{"name":{"maxLength":50,"minLength":0,"type":"string","description":"진료과명","example":"내과"},"description":{"maxLength":200,"minLength":0,"type":"string","description":"진료과 설명","example":"일반적인 내과 진료를 담당합니다."}},"description":"진료과 생성 정보"},"DeviceTokenRegisterRequest":{"required":["deviceType","fcmToken","memberId"],"type":"object","properties":{"memberId":{"type":"integer","description":"회원 ID","format":"int64","example":1},"fcmToken":{"type":"string","description":"FCM 디바이스 토큰","example":"dGhpc2lzYXNhbXBsZWZjbXRva2Vu..."},"deviceType":{"pattern":"^(ANDROID|IOS)$","type":"string","description":"디바이스 타입 (ANDROID/IOS)","example":"ANDROID"}}},"PatientCallRequest":{"required":["appointmentId"],"type":"object","properties":{"appointmentId":{"type":"integer","description":"예약 ID","format":"int64","example":1}}},"ChatStartRequest":{"required":["initialMessage","memberId"],"type":"object","properties":{"memberId":{"type":"integer","description":"회원 ID","format":"int64","example":1},"initialMessage":{"type":"string","description":"채팅 시작 메시지","example":"머리가 아파서 병원에 가야 할 것 같아요"}}},"ChatMessageResponse":{"type":"object","properties":{"messageId":{"type":"integer","description":"메시지 ID","format":"int64","example":1},"senderType":{"type":"string","description":"메시지 송신자 타입","example":"USER","enum":["USER","AI"]},"content":{"type":"string","description":"메시지 내용","example":"머리가 아파요"},"sequenceNumber":{"type":"integer","description":"메시지 순서 번호","format":"int32","example":1},"createdAt":{"type":"string","description":"메시지 생성 시간","format":"date-time"}},"description":"채팅 메시지 목록"},"ChatSessionResponse":{"type":"object","properties":{"sessionId":{"type":"integer","description":"채팅 세션 ID","format":"int64","example":1},"title":{"type":"string","description":"채팅 세션 제목","example":"증상 상담"},"status":{"type":"string","description":"채팅 세션 상태","example":"ACTIVE","enum":["ACTIVE","COMPLETED","CANCELLED"]},"createdAt":{"type":"string","description":"세션 생성 시간","format":"date-time"},"updatedAt":{"type":"string","description":"세션 마지막 업데이트 시간","format":"date-time"},"messages":{"type":"array","description":"채팅 메시지 목록","items":{"$ref":"#/components/schemas/ChatMessageResponse"}},"symptomAnalysis":{"$ref":"#/components/schemas/SymptomAnalysisResponse"}}},"SymptomAnalysisResponse":{"type":"object","properties":{"analysisId":{"type":"integer","description":"증상 분석 ID","format":"int64","example":1},"extractedSymptoms":{"type":"string","description":"추출된 증상 정보","example":"두통, 발열"},"recommendedDepartment":{"type":"string","description":"추천 진료과","example":"내과"},"confidenceScore":{"type":"number","description":"신뢰도 점수 (0.0-1.0)","format":"double","example":0.85},"analysisSummary":{"type":"string","description":"분석 요약","example":"두통과 발열 증상을 고려할 때 내과 진료를 추천합니다."},"additionalQuestions":{"type":"string","description":"추가 질문 사항","example":"언제부터 증상이 시작되었나요?"}},"description":"증상 분석 결과"},"ChatMessageRequest":{"required":["content","memberId","sessionId"],"type":"object","properties":{"sessionId":{"type":"integer","description":"채팅 세션 ID","format":"int64","example":1},"memberId":{"type":"integer","description":"회원 ID","format":"int64","example":1},"content":{"type":"string","description":"채팅 메시지 내용","example":"머리가 아파요"}}},"TemporaryTokenResponse":{"type":"object","properties":{"temporaryToken":{"type":"string"}}},"SmsCodeRequest":{"required":["code","phoneNumber"],"type":"object","properties":{"phoneNumber":{"pattern":"^01[016789]\\d{7,8}$","type":"string"},"code":{"maxLength":6,"minLength":6,"type":"string"}}},"ApiResponseTemplateTemporaryTokenResponse":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/TemporaryTokenResponse"}}},"SmsVerificationRequest":{"required":["phoneNumber"],"type":"object","properties":{"phoneNumber":{"pattern":"^01[016789]\\d{7,8}$","type":"string"}}},"TokenPairResponse":{"type":"object","properties":{"accessToken":{"type":"string","description":"액세스 토큰","default":"accessToken"},"refreshToken":{"type":"string","description":"리프레시 토큰","default":"refreshToken"},"memberId":{"type":"integer","description":"회원 ID","format":"int64","example":1},"memberName":{"type":"string","description":"회원 이름","example":"김철수"},"role":{"type":"string","description":"회원 역할","example":"PATIENT"}}},"RefreshTokenRequest":{"required":["refreshToken"],"type":"object","properties":{"refreshToken":{"type":"string","description":"갱신 토큰","example":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"}}},"ApiResponseTemplateTokenPairResponse":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/TokenPairResponse"}}},"PatientSignUpRequest":{"required":["birthDate","gender","name","password","phoneNumber"],"type":"object","properties":{"name":{"type":"string","description":"이름","example":"김환자"},"gender":{"pattern":"^(남성|여성)$","type":"string","description":"성별 (남성/여성)","example":"남성"},"birthDate":{"pattern":"^\\d{4}\\d{2}\\d{2}$","type":"string","description":"생년월일(yyyyMMdd)","example":"19900315"},"phoneNumber":{"pattern":"^01[0-9]\\d{4}\\d{4}$","type":"string","description":"전화번호(하이픈 포함 X)","example":"01012345678"},"password":{"pattern":"^(?=.*[a-zA-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]+$","type":"string","description":"비밀번호","example":"password123!"}}},"PatientSignInRequest":{"required":["password","phoneNumber"],"type":"object","properties":{"phoneNumber":{"pattern":"^01[0-9]\\d{4}\\d{4}$","type":"string","description":"전화번호(하이픈 포함 X)","example":"01012345678"},"password":{"type":"string","description":"비밀번호","example":"password123!"}}},"HospitalSignUpRequest":{"required":["adminName","hospitalName"],"type":"object","properties":{"adminName":{"type":"string"},"adminEmail":{"type":"string"},"adminPassword":{"maxLength":64,"minLength":8,"type":"string"},"hospitalName":{"type":"string"},"hospitalAddress":{"type":"string"}}},"HospitalSignInRequest":{"required":["adminPassword"],"type":"object","properties":{"adminEmail":{"type":"string"},"adminPassword":{"type":"string"}}},"AppointmentCreateRequest":{"required":["appointmentDate","appointmentTime","departmentName","hospitalId","memberId"],"type":"object","properties":{"memberId":{"type":"integer","description":"회원 ID","format":"int64","example":1},"hospitalId":{"type":"integer","description":"병원 ID","format":"int64","example":1},"departmentName":{"type":"string","description":"진료과명","example":"내과"},"appointmentDate":{"type":"string","description":"예약 날짜","format":"date","example":"2024-12-31"},"appointmentTime":{"$ref":"#/components/schemas/LocalTime"}}},"ApiResponseTemplateLong":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"data":{"type":"integer","format":"int64"}}},"ApiResponseTemplateAvailableTimeSlotsResponse":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/AvailableTimeSlotsResponse"}}},"AvailableTimeSlotsResponse":{"type":"object","properties":{"date":{"type":"string","description":"조회 날짜","format":"date","example":"2025-09-04"},"departmentName":{"type":"string","description":"진료과명","example":"내과"},"timeSlots":{"type":"array","description":"시간대 목록","items":{"$ref":"#/components/schemas/TimeSlotResponse"}},"availableCount":{"type":"integer","description":"예약 가능한 시간 개수","format":"int32","example":11},"totalSlots":{"type":"integer","description":"전체 시간대 개수","format":"int32","example":14}}},"TimeSlotResponse":{"type":"object","properties":{"time":{"$ref":"#/components/schemas/LocalTime"},"available":{"type":"boolean","description":"예약 가능 여부","example":true},"reason":{"type":"string","description":"불가능한 이유","example":"ALREADY_BOOKED"},"bookedBy":{"type":"string","description":"예약자명 (이미 예약된 경우)","example":"김환자"}},"description":"시간대 목록"},"ApiResponseTemplateBoolean":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"data":{"type":"boolean"}}},"ApiResponseTemplateListNotificationHistoryResponse":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/NotificationHistoryResponse"}}}},"NotificationHistoryResponse":{"type":"object","properties":{"id":{"type":"integer","description":"알림 이력 ID","format":"int64","example":1},"appointmentId":{"type":"integer","description":"예약 ID","format":"int64","example":1},"title":{"type":"string","description":"알림 제목","example":"진료 예약 알림"},"message":{"type":"string","description":"알림 내용","example":"오늘 오후 2시에 예약이 있습니다."},"isSuccess":{"type":"boolean","description":"알림 전송 성공 여부","example":true},"errorMessage":{"type":"string","description":"오류 메시지","example":"null"},"createdAt":{"type":"string","description":"알림 생성 시각","format":"date-time"}}},"ApiResponseTemplateListAppointmentResponse":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentResponse"}}}},"AppointmentResponse":{"type":"object","properties":{"appointmentId":{"type":"integer","description":"예약 ID","format":"int64","example":1},"memberName":{"type":"string","description":"회원명","example":"김환자"},"hospitalName":{"type":"string","description":"병원명","example":"서울대학교병원"},"department":{"type":"string","description":"진료과","example":"내과"},"appointmentDate":{"type":"string","description":"예약 날짜","format":"date","example":"2024-12-31"},"appointmentTime":{"$ref":"#/components/schemas/LocalTime"},"status":{"type":"string","description":"예약 상태","example":"SCHEDULED"},"statusDescription":{"type":"string","description":"예약 상태 설명","example":"예약 완료"},"canCall":{"type":"boolean","description":"환자 호출 가능 여부","example":true}}},"ApiResponseTemplateListTimeSlotExceptionResponse":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/TimeSlotExceptionResponse"}}}},"TimeSlotExceptionResponse":{"type":"object","properties":{"exceptionId":{"type":"integer","description":"시간 예외 ID","format":"int64","example":1},"departmentId":{"type":"integer","description":"진료과 ID","format":"int64","example":1},"departmentName":{"type":"string","description":"진료과명","example":"내과"},"exceptionDate":{"type":"string","description":"예외 날짜","format":"date","example":"2025-09-04"},"exceptionTime":{"$ref":"#/components/schemas/LocalTime"},"blocked":{"type":"boolean","description":"차단 여부","example":true}}},"ApiResponseTemplateListHospitalDepartmentResponse":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/HospitalDepartmentResponse"}}}},"HospitalDepartmentResponse":{"type":"object","properties":{"departmentId":{"type":"integer","description":"진료과 ID","format":"int64","example":1},"name":{"type":"string","description":"진료과명","example":"내과"},"description":{"type":"string","description":"진료과 설명","example":"일반적인 내과 진료를 담당합니다."},"defaultStartTime":{"$ref":"#/components/schemas/LocalTime"},"defaultEndTime":{"$ref":"#/components/schemas/LocalTime"},"slotDurationMinutes":{"type":"integer","description":"예약 슬롯 간격(분)","format":"int32","example":30},"active":{"type":"boolean","description":"활성화 여부","example":true}}},"ApiResponseTemplateHospitalDepartmentResponse":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/HospitalDepartmentResponse"}}}},"securitySchemes":{"BearerAuth":{"type":"http","name":"BearerAuth","scheme":"bearer","bearerFormat":"JWT"}}}}